<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ModelUnit PUBLIC " "
        "https://raw.githubusercontent.com/AgriculturalModelExchangeInitiative/crop2ml/master/ModelUnit.dtd">
<ModelUnit modelid="Monica_Evapotranspiration.ReferenceEvapotranspiration"
           name="ReferenceEvapotranspiration"
           timestep="1" version="1">
    <Description>
        <Title>MONICA reference evapotranspiration</Title>
        <Authors>Claas Nendel (transcription into Crop2ML by Michael Berg-Mohnicke)</Authors>
        <Institution>ZALF e.V.</Institution>
        <URI></URI>
        <Reference>
            Allen RG, Pereira LS, Raes D, Smith M. (1998) Crop evapotranspiration. Guidelines for computing crop water requirements. FAO Irrigation and
            Drainage Paper 56, FAO, Roma
        </Reference>
        <ExtendedDescription>
            A method following Penman-Monteith as described by the FAO in Allen
            RG, Pereira LS, Raes D, Smith M. (1998) Crop evapotranspiration.
            Guidelines for computing crop water requirements. FAO Irrigation and
            Drainage Paper 56, FAO, Roma
        </ExtendedDescription>
        <ShortDescription>Calculates the MONICA reference evapotranspiration</ShortDescription>
    </Description>
    <Inputs>
        <!-- parameters -->
        <Input name="reference_albedo" description="reference albedo"
               inputtype="parameter" parametercategory="constant"
               datatype="DOUBLE" max="1" min="0" default="0" unit="dimensionless"/>
        <Input name="stomata_resistance" description="stomata resistance"
               inputtype="parameter" parametercategory="constant"
               datatype="DOUBLE" max="10000" min="0" default="100" unit="s/m"/>
        <Input name="latitude" description="latitude"
               inputtype="parameter" parametercategory="constant"
               datatype="DOUBLE" max="90" min="-90" default="0" unit="degree"/>
        <Input name="height_nn" description="height above sea leavel"
               inputtype="parameter" parametercategory="constant"
               datatype="DOUBLE" max="9999" min="-9999" default="0" unit="m"/>

        <!-- exogenous -->
        <Input name="max_air_temperature" description="daily maximum air temperature"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="100" min="-100" default="0" unit="°C"/>
        <Input name="min_air_temperature" description="daily minimum air temperature"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="100" min="-100" default="0" unit="°C"/>
        <Input name="mean_air_temperature" description="daily average air temperature"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="100" min="-100" default="0" unit="°C"/>
        <Input name="relative_humidity" description="relative humidity"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="1" min="0" default="0" unit="fraction"/>
        <Input name="wind_speed" description="wind speed measured at wind speed height"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="9999" min="0" default="0" unit="m/s"/>
        <Input name="wind_speed_height" description="height at which the wind speed has been measured"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="9999" min="-9999" default="2" unit="m"/>
        <Input name="global_radiation" description="global radiation"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="50" min="0" default="0" unit="MJ/m2"/>
        <Input name="julian_day" description="day of year"
               inputtype="variable" variablecategory="exogenous"
               datatype="INT" max="366" min="1" default="1" unit="day"/>
        <Input name="vapor_pressure" description="vapor pressure"
               inputtype="variable" variablecategory="exogenous"
               datatype="DOUBLE" max="" min="0" default="0" unit="kPa"/>

        <!-- states -->
        <Input name="net_radiation" description="net radiation"
               inputtype="variable" variablecategory="state"
               datatype="DOUBLE" max="" min="0" default="0" unit="MJ/m2"/>
        <Input name="reference_evapotranspiration" description="reference evapotranspiration (ET0)"
                inputtype="variable" variablecategory="state"
                datatype="DOUBLE" max="" min="0" default="0" unit="mm"/>
    </Inputs>
    <Outputs>
        <Output name="reference_evapotranspiration" description="reference evapotranspiration (ET0)"
                variablecategory="state"
                datatype="DOUBLE" max="" min="0" unit="mm"/>
        <Output name="net_radiation" description="net radiation"
                variablecategory="state"
                datatype="DOUBLE" max="" min="0" unit="MJ/m2"/>
    </Outputs>
    <Initialization name="init_reference_evapotranspiration" language="cyml"
                    filename="algo/pyx/init_reference_evapotranspiration.pyx"/>
    <Function name="bound" description="helper functions for evapotranspiration code"
              language="cyml" type="external"
              filename="algo/pyx/helpers/bound.pyx"/>
    <Algorithm language="cyml" platform=""
               filename="algo/pyx/reference_evapotranspiration.pyx"/>
    <Parametersets/>
    <Testsets/>
</ModelUnit>